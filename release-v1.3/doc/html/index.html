<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TLx493D 3D Hall Sensor Generic Library: 3D Hall Sensor Generic Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IFX_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TLx493D 3D Hall Sensor Generic Library
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">Generic library for the TLx493D 3D Hall sensor family</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">3D Hall Sensor Generic Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="s1"></a>
General Description</h1>
<p>The TLx493D Generic Library is a microcontroller-agnostic implementation of a software stack abstraction for sensors of the TLx493D 3D Hall family.</p>
<p>The supported hardware versions are:<br />
 *TLV493D-A1B6<br />
 *TLE493D-A2B6<br />
 *TLE493D-W2B6<br />
 *TLI493D-W2BW<br />
</p>
<p>The library presents the following three levels of abstraction:<br />
 *TLx493D abstraction level<br />
 *TLV493D/TLE493D + TLI493D-W2BW abstraction levels<br />
 *Drivers abstraction levels<br />
</p>
<h1><a class="anchor" id="s2"></a>
Quick start guide</h1>
<p>Before calling any library function it is important to note that the functions require the ability to communicate with the 3D Hall sensor on the I2C bus. This implementation of such functionality depends on the microcontroller that the library will be compiled for. As such, the user is required to provide certain functions that when called by the library, will establish communication with the sensor. For details about the aforementioned functions regarding implementation and interfacing with the library, please see the file: <br />
 <a class="el" href="interface_8h.html" title="Generic Library interface to the peripheral drivers. ">interface.h</a></p>
<p>The Core distribution of this library does not provide implementations for such functions. <br />
 The XMC distribution of the library provides XMC drivers already interfaced with the library.</p>
<p><b>Follow the TODO comments in the code for additional interfacing instructions.</b></p>
<p><b>When importing the library as a project in Dave IDE, only use the Debug Build Configuration, otherwise the project might not build !</b></p>
<h2><a class="anchor" id="s1s1"></a>
TLx493D abstraction level</h2>
<p>The library is able to automatically detect the sensor type and version, making it very easy to get started with such a sensor. The downside of using this level is that regardless of the sensor used, only basic functionality is available to the user, and only one sensor can be used at a time (bus mode not supported). <br />
</p>
<p>Example code for reading a data frame in <b>Master Control Mode</b>: <br />
 </p><div class="fragment"><div class="line"><span class="comment">// please note that the value of status should be checked and properly handler</span></div><div class="line">int32_t status;</div><div class="line"><a class="code" href="struct_t_lx493_d__data__frame__t.html">TLx493D_data_frame_t</a> frame;</div><div class="line">int16_t Bx_LSB, By_LSB, Bz_LSB, sensor_temperature_LSB;</div><div class="line"></div><div class="line"><span class="comment">// Initialize the sensor</span></div><div class="line">status = <a class="code" href="_t_lx493_d_8c.html#ac5602c159fc8bc1085dd6ecb8bb116f2">TLx493D_init</a>();</div><div class="line"></div><div class="line"><span class="comment">// set operation mode to Master Control Mode</span></div><div class="line">status =  <a class="code" href="_t_lx493_d_8c.html#a865b1090f005fdbd91faa902fbc35bfd">TLx493D_set_operation_mode</a>(TLx493D_OP_MODE_MCM);</div><div class="line"></div><div class="line"><span class="comment">// read a data frame</span></div><div class="line">status = <a class="code" href="_t_lx493_d_8c.html#accca4d20734f6066c1b9cc5389560805">TLx493D_read_frame</a>(&amp;frame);</div><div class="line"></div><div class="line"><span class="comment">// Copy Magnetic Field Intensity and temperature values in LSB format</span></div><div class="line">Bx_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#ac9e9d1455533b3d2e417f2064982a31d">x</a>;</div><div class="line">By_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#a95882762f5a26aaed29610c8d4ed8b4c">y</a>;</div><div class="line">Bz_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#afc28475d31ed47440530c04d85958adb">z</a>;</div><div class="line">sensor_temperature_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#a318d6cd91a330f561fd0bb7a36f555c8">temp</a>;</div></div><!-- fragment --><p>For this abstraction level please see the following files: <br />
 <a class="el" href="_t_lx493_d_8h.html" title="TLx 3D Hall Sensor Family Abstraction. ">TLx493D.h</a> <br />
 <a class="el" href="_t_lx493_d_8c.html">TLx493D.c</a> <br />
</p>
<h2><a class="anchor" id="s1s2"></a>
TLV493D/TLE493D/TLI493D-W2BW abstraction levels</h2>
<p>By using the functions defined at this abstraction level, the user may change most of the sensor parameters while also not having to manually change register values or ensure that parity values are correct. This level presents a balance between ease of use and access to sensor settings and is the <b>recommended mode for testing sensor features</b>. The sensor type and version must be known by the user (it is written on the PCB of newer kit versions).<br />
</p>
<p>Example code for reading a data frame in <b>Master Control Mode</b> on <b>TLE493D-A1B6</b>: <br />
 </p><div class="fragment"><div class="line"><span class="comment">// please note that the value of status should be checked and properly handler</span></div><div class="line">int32_t status;</div><div class="line"><a class="code" href="struct_t_lx493_d__data__frame__t.html">TLx493D_data_frame_t</a> frame;</div><div class="line">int16_t Bx_LSB, By_LSB, Bz_LSB, sensor_temperature_LSB;</div><div class="line"><a class="code" href="struct_t_l_v493_d__data__t.html">TLV493D_data_t</a> sensor_state;</div><div class="line"></div><div class="line"><span class="comment">// power-cycle the sensor</span></div><div class="line"><span class="comment">// On the 2Go Kit, the sensor may not be powered by default</span></div><div class="line"><span class="comment">// (some 2Go kits do not support sensor power control)</span></div><div class="line"><a class="code" href="interface_8h.html#abadb0076439c5df777bd4e545d82dcce">_POWER_DISABLE</a>();</div><div class="line"><a class="code" href="interface_8h.html#a049c9e0574db2668751f73dcacaacfe7">_POWER_ENABLE</a>();</div><div class="line"></div><div class="line"><span class="comment">// Initialize the sensor</span></div><div class="line"><span class="comment">// sensor_state - data structure used to store the sensor configuration.</span></div><div class="line"><span class="comment">//                &quot;NULL&quot; can be passed to use the internal data structure of the</span></div><div class="line"><span class="comment">//                library to store the sensor state but when working with several sensors,</span></div><div class="line"><span class="comment">//                &quot;NULL&quot; can be passed for only one of them.</span></div><div class="line"><span class="comment">// false        - ADDR (i.e. SDA) line will be HIGH at sensor power up. Use false otherwise.</span></div><div class="line"><span class="comment">// TLV493D_A1B6_ADDR_1E_9C - the address to be configured to the sensor. Since true was passed</span></div><div class="line"><span class="comment">//                           for the previous parameter, the greater address (9C) will be used for</span></div><div class="line"><span class="comment">//                           further I2C communications.</span></div><div class="line">status = <a class="code" href="_t_l_v___a1_b6_8c.html#a692d5541ead9ea1682f2f618490d549c">TLV493D_A1B6_init</a>(&amp;sensor_state, <span class="keyword">true</span>, TLV493D_A1B6_ADDR_1E_9C);</div><div class="line"></div><div class="line"><span class="comment">// set operation mode to Master Control Mode</span></div><div class="line">status =  <a class="code" href="_t_l_v___a1_b6_8c.html#a67bb87180597a076f74ad907aa8e6bae">TLV493D_A1B6_set_operation_mode</a>(&amp;sensor_state, TLx493D_OP_MODE_MCM);</div><div class="line"></div><div class="line"><span class="comment">// read a data frame</span></div><div class="line">status = <a class="code" href="_t_l_v___a1_b6_8c.html#aae1632aa63a45d4b9c57eb6857e7803b">TLV493D_A1B6_read_frame</a>(&amp;sensor_state, &amp;frame);</div><div class="line"></div><div class="line"><span class="comment">// Copy Magnetic Field Intensity and temperature values in LSB format</span></div><div class="line">Bx_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#ac9e9d1455533b3d2e417f2064982a31d">x</a>;</div><div class="line">By_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#a95882762f5a26aaed29610c8d4ed8b4c">y</a>;</div><div class="line">Bz_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#afc28475d31ed47440530c04d85958adb">z</a>;</div><div class="line">sensor_temperature_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#a318d6cd91a330f561fd0bb7a36f555c8">temp</a>;</div></div><!-- fragment --><p>Example code for reading a data frame in <b>Master Control Mode</b> on <b>TLE493D-A2B6/W2B6/TLI493D-W2BW</b>: <br />
 </p><div class="fragment"><div class="line"><span class="comment">// please note that the value of status should be checked and properly handler</span></div><div class="line">int32_t status;</div><div class="line"><a class="code" href="struct_t_lx493_d__data__frame__t.html">TLx493D_data_frame_t</a> frame;</div><div class="line">int16_t Bx_LSB, By_LSB, Bz_LSB, sensor_temperature_LSB;</div><div class="line"><a class="code" href="struct_t_l_e493_d__data__t.html">TLE493D_data_t</a> sensor_state;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// power-cycle the sensor</span></div><div class="line"><span class="comment">// On the 2Go Kit, the sensor may not be powered by default</span></div><div class="line"><a class="code" href="interface_8h.html#abadb0076439c5df777bd4e545d82dcce">_POWER_DISABLE</a>();</div><div class="line"><a class="code" href="interface_8h.html#a049c9e0574db2668751f73dcacaacfe7">_POWER_ENABLE</a>();</div><div class="line"></div><div class="line"><span class="comment">// Initialize the sensor</span></div><div class="line"><span class="comment">// sensor_state - data structure used to store the sensor configuration.</span></div><div class="line"><span class="comment">//                &quot;NULL&quot; can be passed to use the internal data structure of the</span></div><div class="line"><span class="comment">//                library to store the sensor state but when working with several sensors,</span></div><div class="line"><span class="comment">//                &quot;NULL&quot; can be passed for only one of them.</span></div><div class="line"><span class="comment">//                Please note that the structure type is different then in the TLV example!</span></div><div class="line"><span class="comment">// TLE493D_AW2B6_I2C_A0_ADDR - the fused address of the sensor. It can be A0, A1, A2 or A3.</span></div><div class="line">status = <a class="code" href="_t_l_e___a_w2_b6_8h.html#ac24faf10a6ed531d3926901253ec420f">TLE493D_AW2B6_init</a>(&amp;sensor_state, TLE493D_AW2B6_I2C_A0_ADDR);</div><div class="line"></div><div class="line"><span class="comment">// set operation mode to Master Control Mode</span></div><div class="line">status = <a class="code" href="_t_l_e___a_w2_b6_8c.html#ac9472a655168a8594bfcfffbd7607149">TLE493D_AW2B6_set_operation_mode</a>(&amp;sensor_state, TLx493D_OP_MODE_MCM);</div><div class="line"></div><div class="line"><span class="comment">// read a data frame</span></div><div class="line">status = <a class="code" href="_t_l_e___a_w2_b6_8c.html#a2762d6c77af74f058687f66f2299825a">TLE493D_AW2B6_read_frame</a>(&amp;sensor_state, &amp;frame);</div><div class="line"></div><div class="line"><span class="comment">// Copy Magnetic Field Intensity and temperature values in LSB format</span></div><div class="line">Bx_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#ac9e9d1455533b3d2e417f2064982a31d">x</a>;</div><div class="line">By_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#a95882762f5a26aaed29610c8d4ed8b4c">y</a>;</div><div class="line">Bz_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#afc28475d31ed47440530c04d85958adb">z</a>;</div><div class="line">sensor_temperature_LSB = frame.<a class="code" href="struct_t_lx493_d__data__frame__t.html#a318d6cd91a330f561fd0bb7a36f555c8">temp</a>;</div></div><!-- fragment --><p>For TLV493D-A1B6 please see the following files:<br />
 <a class="el" href="_t_l_v___a1_b6_8h.html" title="TLV493D-A1B6 abstraction. ">TLV_A1B6.h</a><br />
 <a class="el" href="_t_l_v___a1_b6_8c.html">TLV_A1B6.c</a><br />
 <br />
 For TLE493D-A2B6/-W2B6 please see the following files:<br />
 <a class="el" href="_t_l_e___a_w2_b6_8h.html" title="TLE493D-A2B6/-W2B6 abstraction. ">TLE_AW2B6.h</a><br />
 <a class="el" href="_t_l_e___a_w2_b6_8c.html">TLE_AW2B6.c</a><br />
</p>
<h2><a class="anchor" id="s1s3"></a>
Drivers abstraction levels</h2>
<p>The lowest abstraction level presented by the library is the driver level allowing basic read and write operations with reserved data correction for the TLV493D-A1B6. The implementation is stateless and allows reading and writing sensor registers.<br />
</p>
<p>Example code for reading a data frame in <b>Master Control Mode</b> on <b>TLE493D-A1B6</b>: <br />
 </p><div class="fragment"><div class="line"><span class="comment">// please note that the value of status should be checked and properly handler</span></div><div class="line">int32_t status;</div><div class="line"><a class="code" href="struct_t_l_v493_d__data__t.html">TLV493D_data_t</a> sensor_state;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// power-cycle the sensor</span></div><div class="line"><span class="comment">// On the 2Go Kit, the sensor may not be powered by default</span></div><div class="line"><a class="code" href="interface_8h.html#abadb0076439c5df777bd4e545d82dcce">_POWER_DISABLE</a>();</div><div class="line"><a class="code" href="interface_8h.html#a049c9e0574db2668751f73dcacaacfe7">_POWER_ENABLE</a>();</div><div class="line"></div><div class="line"><span class="comment">// { Initialize the sensor }</span></div><div class="line"><span class="comment">// consider the line ADDR(i.e. SDA) as HIGH at sensor startup</span></div><div class="line"><span class="comment">// and user default I2C address for that particular case</span></div><div class="line">sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a047c4ab12450e0186489f3bfadc8cbc4">IIC_addr</a> = TLV493D_A1B6_I2C_DEFAULT_ADDR_HIGH;</div><div class="line"></div><div class="line"><span class="comment">// copy the state of ALL the read registers, used for auto-correction</span></div><div class="line"><span class="comment">// on write operations</span></div><div class="line">status = <a class="code" href="_t_l_v___a1_b6__driver_8c.html#a80bcc62ca392203dbdabcd529f35c35b">TLV493D_A1B6_read_regs</a>(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a047c4ab12450e0186489f3bfadc8cbc4">IIC_addr</a>,</div><div class="line">                               &amp;(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a8160052cc383f9ec602c96f41922952b">regmap_read</a>),</div><div class="line">                               TLV493D_A1B6_READ_REGS_COUNT - 1</div><div class="line">);</div><div class="line"></div><div class="line"><span class="comment">// { Configure Master Control Mode }</span></div><div class="line"><span class="comment">// clear IICAddr, INT, FAST, LOW flags</span></div><div class="line">sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#aa17835fca124976dc402c4305da2b724">regmap_write</a>.MOD1 &amp;= ~(TLV493D_A1B6_MOD1_IICAddr_MSK</div><div class="line">                                   | TLV493D_A1B6_MOD1_INT_MSK</div><div class="line">                                   | TLV493D_A1B6_MOD1_FAST_MSK</div><div class="line">                                   | TLV493D_A1B6_MOD1_LOW_MSK);</div><div class="line"></div><div class="line"><span class="comment">// set Master Control Mode configuration and 9C as I2C address</span></div><div class="line"><span class="comment">// (it ADDR were LOW at sensor power-up, the address would have been 1E)</span></div><div class="line">sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#aa17835fca124976dc402c4305da2b724">regmap_write</a>.MOD1 |= TLV493D_A1B6_MOD1_IICAddr_1E_9C</div><div class="line">                                  | TLV493D_A1B6_MOD1_INT_DISABLE</div><div class="line">                                  | TLV493D_A1B6_MOD1_FAST_ENABLE</div><div class="line">                                  | TLV493D_A1B6_MOD1_LOW_ENABLE;</div><div class="line"></div><div class="line"><span class="comment">// write the register to the sensor; use read registers for correction of</span></div><div class="line"><span class="comment">// reserved bits (so they do not need to be copied manually)</span></div><div class="line">status = <a class="code" href="_t_l_v___a1_b6__driver_8c.html#a193d021b21978abf81eba392c7b52ce5">TLV493D_A1B6_write_regs</a>(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a047c4ab12450e0186489f3bfadc8cbc4">IIC_addr</a>,</div><div class="line">                                &amp;(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#aa17835fca124976dc402c4305da2b724">regmap_write</a>),</div><div class="line">                                &amp;(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a8160052cc383f9ec602c96f41922952b">regmap_read</a>));</div><div class="line"></div><div class="line"><span class="comment">// { after changing the address, manually update it in the data structure }</span></div><div class="line">sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a047c4ab12450e0186489f3bfadc8cbc4">IIC_addr</a> = 0x9Cu;</div><div class="line"></div><div class="line"><span class="comment">// { read a data frame }</span></div><div class="line"><span class="comment">// note that here the information is located in sensor_state.regmap_read</span></div><div class="line"><span class="comment">// and it is NOT parsed. In order to extract the Bx, By, Bz and temperature</span></div><div class="line"><span class="comment">// values, please see the TLV493D_A1B6_read_frame function (found in TLV_A1B6.c).</span></div><div class="line">status = <a class="code" href="_t_l_v___a1_b6__driver_8c.html#a80bcc62ca392203dbdabcd529f35c35b">TLV493D_A1B6_read_regs</a>(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a047c4ab12450e0186489f3bfadc8cbc4">IIC_addr</a>,</div><div class="line">                                &amp;(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a8160052cc383f9ec602c96f41922952b">regmap_read</a>),</div><div class="line">                                TLV493D_A1B6_Temp2_REG);</div></div><!-- fragment --><p>Example code for reading a data frame in <b>Master Control Mode</b> on <b>TLE493D-A1B6</b>: <br />
 </p><div class="fragment"><div class="line"><span class="comment">// please note that the value of status should be checked and properly handler</span></div><div class="line">int32_t status;</div><div class="line"><a class="code" href="struct_t_l_v493_d__data__t.html">TLV493D_data_t</a> sensor_state;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// power-cycle the sensor</span></div><div class="line"><span class="comment">// On the 2Go Kit, the sensor may not be powered by default</span></div><div class="line"><a class="code" href="interface_8h.html#abadb0076439c5df777bd4e545d82dcce">_POWER_DISABLE</a>();</div><div class="line"><a class="code" href="interface_8h.html#a049c9e0574db2668751f73dcacaacfe7">_POWER_ENABLE</a>();</div><div class="line"></div><div class="line"><span class="comment">// { Initialize the sensor }</span></div><div class="line"><span class="comment">// set I2C address</span></div><div class="line">sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a047c4ab12450e0186489f3bfadc8cbc4">IIC_addr</a> = TLE493D_AW2B6_I2C_A0_ADDR;</div><div class="line"></div><div class="line"><span class="comment">// I2C address A0 (not hexadecimal value A0, but rated the address with the label A0)</span></div><div class="line"><span class="comment">// 1-byte read protocol, Collision Avoidance Enabled, Interrupt Disabled</span></div><div class="line"><span class="comment">// Mode Master Control Mode</span></div><div class="line">sensor_state.regmap.MOD1 = TLE493D_AW2B6_MOD1_IICadr_A0</div><div class="line">                           | TLE493D_AW2B6_MOD1_PR_1BYTE</div><div class="line">                           | TLE493D_AW2B6_MOD1_CA_ENABLE</div><div class="line">                           | TLE493D_AW2B6_MOD1_INT_DISABLE</div><div class="line">                           | TLE493D_AW2B6_MOD1_MODE_MCM;</div><div class="line"></div><div class="line"><span class="comment">// compute the parity bit</span></div><div class="line">sensor_state.regmap.MOD1 |= (_get_FP_bit(&amp;sensor_state) &lt;&lt; TLE493D_AW2B6_MOD1_FP_POS);</div><div class="line"></div><div class="line"><span class="comment">// write registers</span></div><div class="line">status = <a class="code" href="_t_l_e___a_w2_b6__driver_8c.html#a8471b6d4fdaac89ba4f91bd23207acca">TLE493D_AW2B6_write_reg</a>(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a047c4ab12450e0186489f3bfadc8cbc4">IIC_addr</a>,</div><div class="line">                                TLE493D_AW2B6_MOD1_REG,</div><div class="line">                                sensor_state.regmap.MOD1</div><div class="line">);</div><div class="line"></div><div class="line"><span class="comment">// write config reg, set trigger</span></div><div class="line">sensor_state.regmap.Config = TLE493D_AW2B6_Config_TRIG_R6;</div><div class="line">status = <a class="code" href="_t_l_e___a_w2_b6__driver_8c.html#a8471b6d4fdaac89ba4f91bd23207acca">TLE493D_AW2B6_write_reg</a>(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a047c4ab12450e0186489f3bfadc8cbc4">IIC_addr</a>,</div><div class="line">                               TLE493D_AW2B6_Config_REG,</div><div class="line">                               sensor_state.regmap.Config</div><div class="line">);</div><div class="line"></div><div class="line"><span class="comment">// { read entire register map }</span></div><div class="line"><span class="comment">// note that here the information is located in sensor_state.regmap</span></div><div class="line"><span class="comment">// and it is NOT parsed. In order to extract the Bx, By, Bz and temperature</span></div><div class="line"><span class="comment">// values, please see the TLE493D_AW2B6_read_frame function (found in TLE_AW2B6.c).</span></div><div class="line">status = <a class="code" href="_t_l_e___a_w2_b6__driver_8c.html#a1f4738c50bc41e827100b12d812b0fb5">TLE493D_AW2B6_read_regs</a>(sensor_state.<a class="code" href="struct_t_l_v493_d__data__t.html#a047c4ab12450e0186489f3bfadc8cbc4">IIC_addr</a>,</div><div class="line">                                &amp;(sensor_state.regmap),</div><div class="line">                                (TLE493D_AW2B6_REGS_COUNT - 1)</div><div class="line">);</div></div><!-- fragment --><p>For this level please see the following files: <br />
 <br />
 For TLV493D-A1B6:<br />
 <a class="el" href="_t_l_v___a1_b6__driver_8h.html" title="Low level driver for the TLV493D-A1B6. ">TLV_A1B6_driver.h</a><br />
 <a class="el" href="_t_l_v___a1_b6__defines_8h.html" title="Define the registers addresses and the positions and masks of the variables from the registers...">TLV_A1B6_defines.h</a><br />
 <a class="el" href="_t_l_v___a1_b6__driver_8c.html">TLV_A1B6_driver.c</a><br />
 <br />
 For TLE493D-A2B6/-W2B6 TLI493D-W2BW:<br />
 <a class="el" href="_t_l_e___a_w2_b6__driver_8h.html">TLE_AW2B6_driver.h</a><br />
 <a class="el" href="_t_l_e___a_w2_b6__driver_8c.html">TLE_AW2B6_driver.c</a><br />
 <a class="el" href="_t_l_e___a_w2_b6__defines_8h.html" title="Define the registers addresses and the positions and masks of the variables from the registers...">TLE_AW2B6_defines.h</a><br />
 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
